<?xml version="1.0"?>
<AlteryxDocument yxmdVer="2021.3">
  <Nodes>
    <Node ToolID="55">
      <GuiSettings Plugin="AlteryxGuiToolkit.TextBox.TextBox">
        <Position x="288" y="54" width="408" height="72" />
      </GuiSettings>
      <Properties>
        <Configuration>
          <Text><![CDATA[Recommendation System - Based on Pearson Correlation
]]></Text>
          <Font name="Arial Rounded MT Bold" size="14.25" style="0" />
          <TextColor name="Black" />
          <FillColor name="White" />
          <Shape shape="0" />
          <Justification Justification="1" />
        </Configuration>
        <Annotation DisplayMode="0">
          <Name />
          <DefaultAnnotationText />
          <Left value="False" />
        </Annotation>
      </Properties>
    </Node>
    <Node ToolID="52">
      <GuiSettings Plugin="AlteryxGuiToolkit.ToolContainer.ToolContainer">
        <Position x="1247" y="209" width="1110" height="363" />
      </GuiSettings>
      <Properties>
        <Configuration>
          <Caption>Find the Users who are interested for the Movies that I am interested in</Caption>
          <Style TextColor="#0000ff" FillColor="#ecf2f2" BorderColor="#ff0080" Transparency="25" Margin="25" />
          <Disabled value="False" />
          <Folded value="False" />
        </Configuration>
        <Annotation DisplayMode="0">
          <Name />
          <DefaultAnnotationText />
          <Left value="False" />
        </Annotation>
      </Properties>
      <ChildNodes>
        <Node ToolID="25">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="2016" y="282" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="1033">
                <Field field="Count" order="Descending" />
                <Field field="userId" order="Ascending" />
                <Field field="movieId" order="Ascending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Lets get the users to the top who has higher count</AnnotationText>
              <DefaultAnnotationText>Count - Descending
userId - Ascending
movieId - Ascending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
        <Node ToolID="28">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="2232" y="282" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="1033">
                <Field field="Count" order="Descending" />
                <Field field="userId" order="Ascending" />
                <Field field="movieId" order="Ascending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Lets sort to get a proper view of the data set</AnnotationText>
              <DefaultAnnotationText>Count - Descending
userId - Ascending
movieId - Ascending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
        <Node ToolID="24">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Join.Join">
            <Position x="1920" y="414" />
          </GuiSettings>
          <Properties>
            <Configuration joinByRecordPos="False">
              <JoinInfo connection="Left">
                <Field field="userId" />
              </JoinInfo>
              <JoinInfo connection="Right">
                <Field field="userId" />
              </JoinInfo>
              <SelectConfiguration>
                <Configuration outputConnection="Join">
                  <OrderChanged value="True" />
                  <CommaDecimal value="False" />
                  <SelectFields>
                    <SelectField field="Left_userId" selected="True" input="Left_" />
                    <SelectField field="Right_Count" selected="True" input="Right_" />
                    <SelectField field="Left_movieId" selected="True" input="Left_" />
                    <SelectField field="Left_rating" selected="True" input="Left_" />
                    <SelectField field="Left_my_rating" selected="True" input="Left_" />
                    <SelectField field="Right_userId" selected="False" rename="Right_userId" input="Right_" />
                    <SelectField field="*Unknown" selected="True" />
                  </SelectFields>
                </Configuration>
              </SelectConfiguration>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Join the count column</AnnotationText>
              <DefaultAnnotationText>Join the count column</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxJoin" />
        </Node>
        <Node ToolID="23">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="1764" y="426" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="1033">
                <Field field="Count" order="Descending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>There are many users that they interested in all my rated movies</AnnotationText>
              <DefaultAnnotationText>Count - Descending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
        <Node ToolID="22">
          <GuiSettings Plugin="AlteryxSpatialPluginsGui.Summarize.Summarize">
            <Position x="1584" y="426" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SummarizeFields>
                <SummarizeField field="userId" action="GroupBy" rename="userId" />
                <SummarizeField field="movieId" action="Count" rename="Count" />
              </SummarizeFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Each user has 'n' number of similar movies</AnnotationText>
              <DefaultAnnotationText>Each user has 'n' number of similar movies</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxSpatialPluginsEngine.dll" EngineDllEntryPoint="AlteryxSummarize" />
        </Node>
        <Node ToolID="21">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="1560" y="282" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="1033">
                <Field field="userId" order="Ascending" />
                <Field field="movieId" order="Ascending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Different users interested in my interested movies</AnnotationText>
              <DefaultAnnotationText>userId - Ascending
movieId - Ascending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
        <Node ToolID="17">
          <GuiSettings Plugin="AlteryxBasePluginsGui.FindReplace.FindReplace">
            <Position x="1272" y="258" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <FieldFind>title</FieldFind>
              <FieldSearch>title</FieldSearch>
              <ReplaceFoundField>title</ReplaceFoundField>
              <FindMode>FindAny</FindMode>
              <NoCase value="False" />
              <MatchWholeWord value="False" />
              <ReplaceMode>Append</ReplaceMode>
              <ReplaceMultipleFound value="True" />
              <ReplaceAppendFields>
                <Field field="movieId" />
              </ReplaceAppendFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Find the movie ID from the original Db and append as a column in my rating table</AnnotationText>
              <DefaultAnnotationText>Find the movie ID from the original Db and append as a column in my rating table</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFindReplace" />
        </Node>
        <Node ToolID="56">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Join.Join">
            <Position x="1416" y="426" />
          </GuiSettings>
          <Properties>
            <Configuration joinByRecordPos="False">
              <JoinInfo connection="Left">
                <Field field="movieId" />
              </JoinInfo>
              <JoinInfo connection="Right">
                <Field field="movieId" />
              </JoinInfo>
              <SelectConfiguration>
                <Configuration outputConnection="Join">
                  <OrderChanged value="True" />
                  <CommaDecimal value="False" />
                  <SelectFields>
                    <SelectField field="Right_userId" selected="True" input="Right_" />
                    <SelectField field="Left_movieId" selected="True" input="Left_" />
                    <SelectField field="Right_rating" selected="True" input="Right_" type="Double" size="8" />
                    <SelectField field="Left_rating" selected="True" rename="my_rating" input="Left_" />
                    <SelectField field="Left_title" selected="False" input="Left_" />
                    <SelectField field="Right_movieId" selected="False" rename="Right_movieId" input="Right_" />
                    <SelectField field="Right_timestamp" selected="False" input="Right_" />
                    <SelectField field="*Unknown" selected="True" />
                  </SelectFields>
                </Configuration>
              </SelectConfiguration>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Get all the users that have rate for similar movies that I have rated</AnnotationText>
              <DefaultAnnotationText>Get all the users that have rate for similar movies that I have rated</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxJoin" />
        </Node>
      </ChildNodes>
    </Node>
    <Node ToolID="51">
      <GuiSettings Plugin="AlteryxGuiToolkit.ToolContainer.ToolContainer">
        <Position x="203" y="209" width="991" height="267" />
      </GuiSettings>
      <Properties>
        <Configuration>
          <Caption>Remove Year Value from Title &amp; Assign to new Column</Caption>
          <Style TextColor="#0000ff" FillColor="#ecf2f2" BorderColor="#ff0080" Transparency="25" Margin="25" />
          <Disabled value="False" />
          <Folded value="False" />
        </Configuration>
        <Annotation DisplayMode="0">
          <Name />
          <DefaultAnnotationText />
          <Left value="False" />
        </Annotation>
      </Properties>
      <ChildNodes>
        <Node ToolID="6">
          <GuiSettings Plugin="AlteryxBasePluginsGui.RegEx.RegEx">
            <Position x="228" y="329" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Field>title</Field>
              <RegExExpression value="[(]\d{4}[)]" />
              <CaseInsensitve value="True" />
              <Method>ParseSimple</Method>
              <Replace expression=" ">
                <CopyUnmatched value="True" />
              </Replace>
              <ParseSimple>
                <SplitToRows value="False" />
                <RootName>Year</RootName>
                <NumFields value="1" />
                <ErrorHandling>Warn</ErrorHandling>
              </ParseSimple>
              <ParseComplex>
                <Field field="RegExOut1" type="V_String" size="254" />
              </ParseComplex>
              <Match>
                <Field>movieId_Matched</Field>
                <ErrorUnmatched value="False" />
              </Match>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Use Regex to abstract the Year from the movie name</AnnotationText>
              <DefaultAnnotationText>Use Regex to abstract the Year from the movie name</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxRegEx" />
        </Node>
        <Node ToolID="8">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Formula.Formula">
            <Position x="372" y="330" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <FormulaFields>
                <FormulaField expression="REGEX_Replace([title],&quot;[(]\d{4}[)]&quot;, &quot;&quot;)" field="title" size="254" type="V_String" />
              </FormulaFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText><![CDATA[Remove the '(YEAR)' from the movie Title ]]></AnnotationText>
              <DefaultAnnotationText><![CDATA[title = REGEX_Replace([title],"[(]\d{4}[)]", "")
]]></DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFormula" />
        </Node>
        <Node ToolID="10">
          <GuiSettings Plugin="AlteryxBasePluginsGui.AlteryxSelect.AlteryxSelect">
            <Position x="516" y="330" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <OrderChanged value="False" />
              <CommaDecimal value="False" />
              <SelectFields>
                <SelectField field="genres" selected="False" />
                <SelectField field="Year1" selected="True" rename="Year" />
                <SelectField field="*Unknown" selected="True" />
              </SelectFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Selecting the required Columns and Rename the Year Column</AnnotationText>
              <DefaultAnnotationText>Selecting the required Columns and Rename the Year Column</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSelect" />
        </Node>
        <Node ToolID="9">
          <GuiSettings>
            <Position x="672" y="330" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Value name="Check Box (135)">False</Value>
              <Value name="Check Box (136)">False</Value>
              <Value name="List Box (11)">"title"</Value>
              <Value name="Check Box (84)">False</Value>
              <Value name="Check Box (117)">False</Value>
              <Value name="Check Box (15)">True</Value>
              <Value name="Check Box (109)">False</Value>
              <Value name="Check Box (122)">False</Value>
              <Value name="Check Box (53)">False</Value>
              <Value name="Check Box (58)">False</Value>
              <Value name="Check Box (70)">False</Value>
              <Value name="Check Box (77)">False</Value>
              <Value name="Drop Down (81)">upper</Value>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Remove the Leading and Trail Space - Data Cleansing</AnnotationText>
              <DefaultAnnotationText>Remove the Leading and Trail Space - Data Cleansing</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings Macro="Cleanse.yxmc" />
        </Node>
        <Node ToolID="13">
          <GuiSettings Plugin="AlteryxBasePluginsGui.BrowseV2.BrowseV2">
            <Position x="792" y="258" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <TempFile>e:\Temp\1\Engine_27424_543caea77aa0488ebabd67bb843018e9_\Engine_1148_edc94719d25142f08183b44ea94351db_.yxdb</TempFile>
              <TempFileDataProfiling />
              <Layout>
                <ViewMode>Single</ViewMode>
                <ViewSize value="100" />
                <View1>
                  <DefaultTab>Profile</DefaultTab>
                  <Hints>
                    <Table />
                  </Hints>
                </View1>
                <View2 />
              </Layout>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>There are some records with No Year</AnnotationText>
              <DefaultAnnotationText>There are some records with No Year</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxBrowseV2" />
        </Node>
        <Node ToolID="12">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Filter.Filter">
            <Position x="876" y="330" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Mode>Simple</Mode>
              <Simple>
                <Operator>IsNull</Operator>
                <Field>Year</Field>
                <Operands>
                  <IgnoreTimeInDateTime>True</IgnoreTimeInDateTime>
                  <DateType>fixed</DateType>
                  <PeriodDate>2021-08-21 13:11:25</PeriodDate>
                  <PeriodType>
                  </PeriodType>
                  <PeriodCount>0</PeriodCount>
                  <Operand>
                  </Operand>
                  <StartDate>2021-08-21 13:11:25</StartDate>
                  <EndDate>2021-08-21 13:11:25</EndDate>
                </Operands>
              </Simple>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Filter not null values from Year Column</AnnotationText>
              <DefaultAnnotationText>IsNull([Year])</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFilter" />
        </Node>
        <Node ToolID="14">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Formula.Formula">
            <Position x="1068" y="342" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <FormulaFields>
                <FormulaField expression="Substring([Year], 1, 4)" field="Year" size="254" type="V_String" />
              </FormulaFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText><![CDATA[Remove the parenthesis from the year ]]></AnnotationText>
              <DefaultAnnotationText><![CDATA[Year = Substring([Year], 1, 4)
]]></DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFormula" />
        </Node>
      </ChildNodes>
    </Node>
    <Node ToolID="50">
      <GuiSettings Plugin="AlteryxGuiToolkit.ToolContainer.ToolContainer">
        <Position x="54" y="77" width="138" height="641" />
      </GuiSettings>
      <Properties>
        <Configuration>
          <Caption>Input Files</Caption>
          <Style TextColor="#0000ff" FillColor="#ecf2f2" BorderColor="#ff0080" Transparency="25" Margin="25" />
          <Disabled value="False" />
          <Folded value="False" />
        </Configuration>
        <Annotation DisplayMode="0">
          <Name />
          <DefaultAnnotationText />
          <Left value="False" />
        </Annotation>
      </Properties>
      <ChildNodes>
        <Node ToolID="2">
          <GuiSettings Plugin="AlteryxBasePluginsGui.DbFileInput.DbFileInput">
            <Position x="79" y="330" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Passwords />
              <File RecordLimit="" SearchSubDirs="False" FileFormat="0" OutputFileName="">C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\movies.csv</File>
              <FormatSpecificOptions>
                <HeaderRow>True</HeaderRow>
                <IgnoreErrors>False</IgnoreErrors>
                <AllowShareWrite>False</AllowShareWrite>
                <ImportLine>1</ImportLine>
                <FieldLen>254</FieldLen>
                <SingleThreadRead>False</SingleThreadRead>
                <IgnoreQuotes>DoubleQuotes</IgnoreQuotes>
                <Delimeter>,</Delimeter>
                <QuoteRecordBreak>False</QuoteRecordBreak>
                <CodePage>28591</CodePage>
              </FormatSpecificOptions>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <DefaultAnnotationText>movies.csv</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
            <MetaInfo connection="Output">
              <RecordInfo>
                <Field name="movieId" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\movies.csv" type="V_String" />
                <Field name="title" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\movies.csv" type="V_String" />
                <Field name="genres" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\movies.csv" type="V_String" />
              </RecordInfo>
            </MetaInfo>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxDbFileInput" />
        </Node>
        <Node ToolID="16">
          <GuiSettings Plugin="AlteryxBasePluginsGui.TextInput.TextInput">
            <Position x="83" y="126" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <NumRows value="5" />
              <Fields>
                <Field name="title" />
                <Field name="rating" />
              </Fields>
              <Data>
                <r>
                  <c>Breakfast Club, The</c>
                  <c>5.0</c>
                </r>
                <r>
                  <c>Toy Story</c>
                  <c>3.5</c>
                </r>
                <r>
                  <c>Jumanji</c>
                  <c>2.0</c>
                </r>
                <r>
                  <c>Pulp Fiction</c>
                  <c>5.0</c>
                </r>
                <r>
                  <c>Akira</c>
                  <c>4.5</c>
                </r>
              </Data>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <DefaultAnnotationText />
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxTextInput" />
        </Node>
        <Node ToolID="3">
          <GuiSettings Plugin="AlteryxBasePluginsGui.DbFileInput.DbFileInput">
            <Position x="83" y="618" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Passwords />
              <File RecordLimit="" SearchSubDirs="False" FileFormat="0" OutputFileName="">C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\ratings.csv</File>
              <FormatSpecificOptions>
                <HeaderRow>True</HeaderRow>
                <IgnoreErrors>False</IgnoreErrors>
                <AllowShareWrite>False</AllowShareWrite>
                <ImportLine>1</ImportLine>
                <FieldLen>254</FieldLen>
                <SingleThreadRead>False</SingleThreadRead>
                <IgnoreQuotes>DoubleQuotes</IgnoreQuotes>
                <Delimeter>,</Delimeter>
                <QuoteRecordBreak>False</QuoteRecordBreak>
                <CodePage>28591</CodePage>
              </FormatSpecificOptions>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <DefaultAnnotationText>ratings.csv</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
            <MetaInfo connection="Output">
              <RecordInfo>
                <Field name="userId" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\ratings.csv" type="V_String" />
                <Field name="movieId" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\ratings.csv" type="V_String" />
                <Field name="rating" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\ratings.csv" type="V_String" />
                <Field name="timestamp" size="254" source="File: C:\Users\Administrator\Desktop\Recommendation Systems\ml-latest-small\ml-latest-small\ratings.csv" type="V_String" />
              </RecordInfo>
            </MetaInfo>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxDbFileInput" />
        </Node>
      </ChildNodes>
    </Node>
    <Node ToolID="54">
      <GuiSettings Plugin="AlteryxGuiToolkit.ToolContainer.ToolContainer">
        <Position x="3335" y="208" width="1056" height="349" />
      </GuiSettings>
      <Properties>
        <Configuration>
          <Caption>Based on the Weighted Average for the movies select most suited movies</Caption>
          <Style TextColor="#0000ff" FillColor="#ecf2f2" BorderColor="#ff0080" Transparency="25" Margin="25" />
          <Disabled value="False" />
          <Folded value="False" />
        </Configuration>
        <Annotation DisplayMode="0">
          <Name />
          <DefaultAnnotationText />
          <Left value="False" />
        </Annotation>
      </Properties>
      <ChildNodes>
        <Node ToolID="43">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Formula.Formula">
            <Position x="3360" y="365" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <FormulaFields>
                <FormulaField expression="[rating] * [Correlation Val]" field="Weighted Rating" size="8" type="Double" />
              </FormulaFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText><![CDATA[Make Weighted Rating to have a relationship with both  [rating] and[Result]
]]></AnnotationText>
              <DefaultAnnotationText><![CDATA[Weighted Rating = [rating] * [Correlation Val]
]]></DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFormula" />
        </Node>
        <Node ToolID="44">
          <GuiSettings Plugin="AlteryxSpatialPluginsGui.Summarize.Summarize">
            <Position x="3512" y="366" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SummarizeFields>
                <SummarizeField field="movieId" action="GroupBy" rename="movieId" />
                <SummarizeField field="Correlation Val" action="Sum" rename="Sum_Correlation Val" />
                <SummarizeField field="Weighted Rating" action="Sum" rename="Sum_Weighted Rating" />
              </SummarizeFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>For each movie calculating how much correlated among users.
Sum result = value(Maximum can be 5)</AnnotationText>
              <DefaultAnnotationText>For each movie calculating how much correlated among users.
Sum result = value(Maximum can be 5)</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxSpatialPluginsEngine.dll" EngineDllEntryPoint="AlteryxSummarize" />
        </Node>
        <Node ToolID="45">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Formula.Formula">
            <Position x="3664" y="378" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <FormulaFields>
                <FormulaField expression="[Sum_Weighted Rating]/[Sum_Correlation Val]" field="Weighted Average Recommendation Score" size="8" type="Double" />
              </FormulaFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Create a new column Weighted Average Recommendation Score</AnnotationText>
              <DefaultAnnotationText>Weighted Average Recommendation Score = [Sum_Weighted Rating]/[Sum_Correlation V...</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFormula" />
        </Node>
        <Node ToolID="46">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="3816" y="378" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="0">
                <Field field="Weighted Average Recommendation Score" order="Descending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Sort by Descending order of Weighted average Recommendation Score</AnnotationText>
              <DefaultAnnotationText>Weighted Average Recommendation Score - Descending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
        <Node ToolID="47">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sample.Sample">
            <Position x="3968" y="378" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Mode>First</Mode>
              <N>20</N>
              <GroupFields orderChanged="False" />
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Lets select to top 20 recommended movie ID's</AnnotationText>
              <DefaultAnnotationText>First 20</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSample" />
        </Node>
        <Node ToolID="48">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Join.Join">
            <Position x="4120" y="257" />
          </GuiSettings>
          <Properties>
            <Configuration joinByRecordPos="False">
              <JoinInfo connection="Left">
                <Field field="movieId" />
              </JoinInfo>
              <JoinInfo connection="Right">
                <Field field="movieId" />
              </JoinInfo>
              <SelectConfiguration>
                <Configuration outputConnection="Join">
                  <OrderChanged value="True" />
                  <CommaDecimal value="False" />
                  <SelectFields>
                    <SelectField field="Right_Weighted Average Recommendation Score" selected="False" input="Right_" />
                    <SelectField field="Right_Sum_Weighted Rating" selected="False" input="Right_" />
                    <SelectField field="Right_Sum_Result" selected="False" input="Right_" />
                    <SelectField field="Right_movieId" selected="False" rename="Right_movieId" input="Right_" />
                    <SelectField field="Left_movieId" selected="True" input="Left_" />
                    <SelectField field="Left_title" selected="True" input="Left_" />
                    <SelectField field="Left_Year" selected="True" input="Left_" />
                    <SelectField field="Right_Sum_Correlation Val" selected="False" input="Right_" />
                    <SelectField field="*Unknown" selected="True" />
                  </SelectFields>
                </Configuration>
              </SelectConfiguration>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>lets get the movie info to the table</AnnotationText>
              <DefaultAnnotationText>lets get the movie info to the table</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxJoin" />
        </Node>
        <Node ToolID="49">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="4272" y="258" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="1033">
                <Field field="Year" order="Descending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>And I need the latest movies in top in recommended movies</AnnotationText>
              <DefaultAnnotationText>Year - Descending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
      </ChildNodes>
    </Node>
    <Node ToolID="53">
      <GuiSettings Plugin="AlteryxGuiToolkit.ToolContainer.ToolContainer">
        <Position x="2447" y="208" width="812" height="640" />
      </GuiSettings>
      <Properties>
        <Configuration>
          <Caption>Select the most simmilarst users to my way of rating and get the other  movies that they prefer to watch</Caption>
          <Style TextColor="#0000ff" FillColor="#ecf2f2" BorderColor="#ff0080" Transparency="25" Margin="25" />
          <Disabled value="False" />
          <Folded value="False" />
        </Configuration>
        <Annotation DisplayMode="0">
          <Name />
          <DefaultAnnotationText />
          <Left value="False" />
        </Annotation>
      </Properties>
      <ChildNodes>
        <Node ToolID="30">
          <GuiSettings Plugin="AlteryxSpatialPluginsGui.Summarize.Summarize">
            <Position x="2472" y="257" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SummarizeFields>
                <SummarizeField field="userId" action="GroupBy" rename="userId" />
                <SummarizeField field="Count" action="Avg" rename="Movie Count" />
              </SummarizeFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText><![CDATA[Get each users Count ]]></AnnotationText>
              <DefaultAnnotationText><![CDATA[Get each users Count ]]></DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxSpatialPluginsEngine.dll" EngineDllEntryPoint="AlteryxSummarize" />
        </Node>
        <Node ToolID="35">
          <GuiSettings>
            <Position x="2496" y="425" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Value name="Input.Field Selection"><![CDATA[Variable1=rating
Variable2=my_rating
]]></Value>
              <Value name="Enable Group By">True</Value>
              <Value name="Select Field to Group By">userId</Value>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Group by user ID and get the pearson correlation comparing his ratings and my ratings</AnnotationText>
              <DefaultAnnotationText>Group by user ID and get the pearson correlation comparing his ratings and my ratings</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings Macro="SpearmanCorrCoeff.yxmc" />
        </Node>
        <Node ToolID="36">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Join.Join">
            <Position x="2652" y="330" />
          </GuiSettings>
          <Properties>
            <Configuration joinByRecordPos="False">
              <JoinInfo connection="Left">
                <Field field="userId" />
              </JoinInfo>
              <JoinInfo connection="Right">
                <Field field="Group" />
              </JoinInfo>
              <SelectConfiguration>
                <Configuration outputConnection="Join">
                  <OrderChanged value="False" />
                  <CommaDecimal value="False" />
                  <SelectFields>
                    <SelectField field="Right_Group" selected="False" input="Right_" />
                    <SelectField field="Right_Result" selected="True" rename="Correlation Val" input="Right_" />
                    <SelectField field="*Unknown" selected="True" />
                  </SelectFields>
                </Configuration>
              </SelectConfiguration>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Join person correlation value with the common movie Count</AnnotationText>
              <DefaultAnnotationText>Join person correlation value with the common movie Count</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxJoin" />
        </Node>
        <Node ToolID="38">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Formula.Formula">
            <Position x="2760" y="318" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <FormulaFields>
                <FormulaField expression="[Movie Count] * [Correlation Val]" field="Score" size="8" type="Double" />
              </FormulaFields>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText><![CDATA[New column Score = [Count] * [Result]
]]></AnnotationText>
              <DefaultAnnotationText><![CDATA[Score = [Movie Count] * [Correlation Val]
]]></DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxFormula" />
        </Node>
        <Node ToolID="39">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sort.Sort">
            <Position x="2892" y="318" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <SortInfo locale="1033">
                <Field field="Score" order="Descending" />
                <Field field="Movie Count" order="Descending" />
              </SortInfo>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <DefaultAnnotationText>Score - Descending
Movie Count - Descending</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSort" />
        </Node>
        <Node ToolID="41">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Sample.Sample">
            <Position x="3000" y="318" />
          </GuiSettings>
          <Properties>
            <Configuration>
              <Mode>First</Mode>
              <N>3</N>
              <GroupFields orderChanged="False" />
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Select n number of most suited Users</AnnotationText>
              <DefaultAnnotationText>First 3</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxSample" />
        </Node>
        <Node ToolID="57">
          <GuiSettings Plugin="AlteryxBasePluginsGui.Join.Join">
            <Position x="3132" y="702" />
          </GuiSettings>
          <Properties>
            <Configuration joinByRecordPos="False">
              <JoinInfo connection="Left">
                <Field field="userId" />
              </JoinInfo>
              <JoinInfo connection="Right">
                <Field field="userId" />
              </JoinInfo>
              <SelectConfiguration>
                <Configuration outputConnection="Join">
                  <OrderChanged value="True" />
                  <CommaDecimal value="False" />
                  <SelectFields>
                    <SelectField field="Left_userId" selected="True" input="Left_" />
                    <SelectField field="Right_movieId" selected="True" input="Right_" />
                    <SelectField field="Right_rating" selected="True" input="Right_" type="Double" size="8" />
                    <SelectField field="Left_Movie Count" selected="False" input="Left_" />
                    <SelectField field="Left_Correlation Val" selected="True" input="Left_" />
                    <SelectField field="Left_Score" selected="False" input="Left_" />
                    <SelectField field="Right_userId" selected="False" rename="Right_userId" input="Right_" />
                    <SelectField field="Right_timestamp" selected="False" input="Right_" />
                    <SelectField field="*Unknown" selected="True" />
                  </SelectFields>
                </Configuration>
              </SelectConfiguration>
            </Configuration>
            <Annotation DisplayMode="0">
              <Name />
              <AnnotationText>Filter the movies and there ratings for the selected users</AnnotationText>
              <DefaultAnnotationText>Filter the movies and there ratings for the selected users</DefaultAnnotationText>
              <Left value="False" />
            </Annotation>
          </Properties>
          <EngineSettings EngineDll="AlteryxBasePluginsEngine.dll" EngineDllEntryPoint="AlteryxJoin" />
        </Node>
      </ChildNodes>
    </Node>
  </Nodes>
  <Connections>
    <Connection>
      <Origin ToolID="25" Connection="Output" />
      <Destination ToolID="28" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="28" Connection="Output" />
      <Destination ToolID="30" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="28" Connection="Output" />
      <Destination ToolID="35" Connection="Field Selection" />
    </Connection>
    <Connection>
      <Origin ToolID="24" Connection="Join" />
      <Destination ToolID="25" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="23" Connection="Output" />
      <Destination ToolID="24" Connection="Right" />
    </Connection>
    <Connection>
      <Origin ToolID="21" Connection="Output" />
      <Destination ToolID="24" Connection="Left" />
    </Connection>
    <Connection>
      <Origin ToolID="22" Connection="Output" />
      <Destination ToolID="23" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="17" Connection="Output" />
      <Destination ToolID="56" Connection="Left" />
    </Connection>
    <Connection>
      <Origin ToolID="3" Connection="Output" />
      <Destination ToolID="56" Connection="Right" />
    </Connection>
    <Connection>
      <Origin ToolID="56" Connection="Join" />
      <Destination ToolID="21" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="56" Connection="Join" />
      <Destination ToolID="22" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="6" Connection="Output" />
      <Destination ToolID="8" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="8" Connection="Output" />
      <Destination ToolID="10" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="10" Connection="Output" />
      <Destination ToolID="9" Connection="Input2" />
    </Connection>
    <Connection>
      <Origin ToolID="9" Connection="Output26" />
      <Destination ToolID="12" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="9" Connection="Output26" />
      <Destination ToolID="13" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="12" Connection="False" />
      <Destination ToolID="14" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="14" Connection="Output" />
      <Destination ToolID="48" Connection="Left" />
    </Connection>
    <Connection>
      <Origin ToolID="47" Connection="Output" />
      <Destination ToolID="48" Connection="Right" />
    </Connection>
    <Connection>
      <Origin ToolID="14" Connection="Output" />
      <Destination ToolID="17" Connection="Source" />
    </Connection>
    <Connection>
      <Origin ToolID="16" Connection="Output" />
      <Destination ToolID="17" Connection="Targets" />
    </Connection>
    <Connection>
      <Origin ToolID="2" Connection="Output" />
      <Destination ToolID="6" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="3" Connection="Output" />
      <Destination ToolID="57" Connection="Right" />
    </Connection>
    <Connection>
      <Origin ToolID="41" Connection="Output" />
      <Destination ToolID="57" Connection="Left" />
    </Connection>
    <Connection>
      <Origin ToolID="43" Connection="Output" />
      <Destination ToolID="44" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="44" Connection="Output" />
      <Destination ToolID="45" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="45" Connection="Output" />
      <Destination ToolID="46" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="46" Connection="Output" />
      <Destination ToolID="47" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="48" Connection="Join" />
      <Destination ToolID="49" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="30" Connection="Output" />
      <Destination ToolID="36" Connection="Left" />
    </Connection>
    <Connection>
      <Origin ToolID="35" Connection="Output16" />
      <Destination ToolID="36" Connection="Right" />
    </Connection>
    <Connection>
      <Origin ToolID="36" Connection="Join" />
      <Destination ToolID="38" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="38" Connection="Output" />
      <Destination ToolID="39" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="39" Connection="Output" />
      <Destination ToolID="41" Connection="Input" />
    </Connection>
    <Connection>
      <Origin ToolID="57" Connection="Join" />
      <Destination ToolID="43" Connection="Input" />
    </Connection>
  </Connections>
  <Properties>
    <Memory default="True" />
    <GlobalRecordLimit value="0" />
    <TempFiles default="True" />
    <Annotation on="True" includeToolName="False" />
    <ConvErrorLimit value="10" />
    <ConvErrorLimit_Stop value="False" />
    <CancelOnError value="False" />
    <DisableBrowse value="False" />
    <EnablePerformanceProfiling value="False" />
    <PredictiveToolsCodePage value="1252" />
    <DisableAllOutput value="False" />
    <ShowAllMacroMessages value="False" />
    <ShowConnectionStatusIsOn value="True" />
    <ShowConnectionStatusOnlyWhenRunning value="True" />
    <ZoomLevel value="0" />
    <LayoutType>Horizontal</LayoutType>
    <MetaInfo>
      <NameIsFileName value="True" />
      <Name>v4_final</Name>
      <Description />
      <RootToolName />
      <ToolVersion />
      <ToolInDb value="False" />
      <CategoryName />
      <SearchTags />
      <Author />
      <Company />
      <Copyright />
      <DescriptionLink actual="" displayed="" />
      <Example>
        <Description />
        <File />
      </Example>
      <WorkflowId value="4d75ac5a-b429-47e7-bfcf-ffbe5a1537b7" />
      <Telemetry>
        <PreviousWorkflowId value="6fe9d8f7-a4e3-419e-8293-c62f9cc8963c" />
        <OriginWorkflowId value="25ecb4fc-dc8b-471f-84e7-a7b55a2d50ae" />
      </Telemetry>
    </MetaInfo>
    <Events>
      <Enabled value="True" />
    </Events>
  </Properties>
</AlteryxDocument>